# PhÃ¢n quyá»n há»‡ thá»‘ng DH Pharmacy

## ğŸ‘¥ CÃ¡c vai trÃ² (Roles)

### 1. ğŸ‘¤ Customer (KhÃ¡ch hÃ ng)
**Quyá»n háº¡n:**
- âœ… Xem vÃ  mua sáº£n pháº©m
- âœ… Quáº£n lÃ½ giá» hÃ ng
- âœ… Äáº·t hÃ ng
- âœ… Upload Ä‘Æ¡n thuá»‘c
- âœ… Xem lá»‹ch sá»­ Ä‘Æ¡n hÃ ng
- âœ… Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n
- âœ… TÆ° váº¥n qua Zalo/Hotline

**Dropdown Menu:**
- ğŸ‘¤ ThÃ´ng tin cÃ¡ nhÃ¢n
- ğŸ“¦ ÄÆ¡n hÃ ng cá»§a tÃ´i
- ğŸ“‹ Lá»‹ch sá»­ mua hÃ ng
- ğŸšª ÄÄƒng xuáº¥t

---

### 2. ğŸ’Š Pharmacist (DÆ°á»£c sÄ©)
**Quyá»n háº¡n:**
- âœ… Dashboard - Xem tá»•ng quan
- âœ… ÄÆ¡n hÃ ng - Quáº£n lÃ½ vÃ  xá»­ lÃ½
- âœ… ÄÆ¡n thuá»‘c - Duyá»‡t vÃ  xÃ¡c thá»±c
- âœ… Kho hÃ ng - Quáº£n lÃ½ tá»“n kho
- âœ… BÃ¡o cÃ¡o - Xem thá»‘ng kÃª
- âœ… NhÃ  cung cáº¥p - Quáº£n lÃ½
- âœ… CÃ i Ä‘áº·t - Cáº¥u hÃ¬nh
- âŒ Sáº£n pháº©m - KHÃ”NG Ä‘Æ°á»£c phÃ©p
- âŒ NgÆ°á»i dÃ¹ng - KHÃ”NG Ä‘Æ°á»£c phÃ©p

**Dropdown Menu:**
- ğŸ“Š Dashboard
- ğŸ“¦ Quáº£n lÃ½ Ä‘Æ¡n hÃ ng
- ğŸ“‹ ÄÆ¡n thuá»‘c
- ğŸ“¦ Kho hÃ ng
- ğŸšª ÄÄƒng xuáº¥t

**LÆ°u Ã½:** DÆ°á»£c sÄ© cÃ³ thá»ƒ truy cáº­p Dashboard nhÆ°ng Ä‘Æ°á»£c redirect trá»±c tiáº¿p Ä‘áº¿n trang ÄÆ¡n thuá»‘c khi Ä‘Äƒng nháº­p.

**TÃ i khoáº£n test:**
- Email: `pharmacist@dhpharmacy.com`
- Password: `pharmacist123`

---

### 3. ğŸ‘‘ Admin (Quáº£n trá»‹ viÃªn)
**Quyá»n háº¡n:**
- âœ… Dashboard - Xem tá»•ng quan
- âœ… Sáº£n pháº©m - Quáº£n lÃ½ toÃ n bá»™
- âœ… ÄÆ¡n hÃ ng - Quáº£n lÃ½ vÃ  xá»­ lÃ½
- âœ… NgÆ°á»i dÃ¹ng - Quáº£n lÃ½ thÃ nh viÃªn
- âœ… ÄÆ¡n thuá»‘c - Duyá»‡t vÃ  xÃ¡c thá»±c
- âœ… Kho hÃ ng - Quáº£n lÃ½ tá»“n kho
- âœ… BÃ¡o cÃ¡o - Xem thá»‘ng kÃª
- âœ… NhÃ  cung cáº¥p - Quáº£n lÃ½
- âœ… CÃ i Ä‘áº·t - Cáº¥u hÃ¬nh há»‡ thá»‘ng

**Dropdown Menu:**
- ğŸ“Š Dashboard
- ğŸ’Š Quáº£n lÃ½ sáº£n pháº©m
- ğŸ‘¥ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- ğŸ“¦ Quáº£n lÃ½ Ä‘Æ¡n hÃ ng
- ğŸ“‹ ÄÆ¡n thuá»‘c
- ğŸ“¦ Kho hÃ ng
- ğŸšª ÄÄƒng xuáº¥t

**TÃ i khoáº£n test:**
- Email: `admin@dhpharmacy.com`
- Password: `admin123`

---

## ğŸ” Báº£ng so sÃ¡nh quyá»n

| Chá»©c nÄƒng | Customer | Pharmacist | Admin |
|-----------|----------|------------|-------|
| Mua hÃ ng | âœ… | âœ… | âœ… |
| Dashboard | âŒ | âœ… | âœ… |
| Quáº£n lÃ½ sáº£n pháº©m | âŒ | âŒ | âœ… |
| Quáº£n lÃ½ Ä‘Æ¡n hÃ ng | Cá»§a mÃ¬nh | âœ… | âœ… |
| Quáº£n lÃ½ ngÆ°á»i dÃ¹ng | âŒ | âŒ | âœ… |
| Duyá»‡t Ä‘Æ¡n thuá»‘c | âŒ | âœ… | âœ… |
| Quáº£n lÃ½ kho | âŒ | âœ… | âœ… |
| Xem bÃ¡o cÃ¡o | âŒ | âœ… | âœ… |
| CÃ i Ä‘áº·t há»‡ thá»‘ng | âŒ | âœ… | âœ… |

---

## ğŸ¯ Quy trÃ¬nh phÃ¢n quyá»n

### Khi Ä‘Äƒng nháº­p:
1. Há»‡ thá»‘ng kiá»ƒm tra role
2. Redirect dá»±a trÃªn role:
   - Customer â†’ Trang chá»§
   - Pharmacist â†’ Trang ÄÆ¡n thuá»‘c
   - Admin â†’ Admin Dashboard

### Khi truy cáº­p trang admin:
1. Kiá»ƒm tra token
2. Kiá»ƒm tra role (admin hoáº·c pharmacist)
3. Náº¿u lÃ  pharmacist:
   - áº¨n menu "Sáº£n pháº©m" vÃ  "NgÆ°á»i dÃ¹ng" trong top navigation
   - Block truy cáº­p trá»±c tiáº¿p vÃ o Products vÃ  Users
   - CÃ³ thá»ƒ truy cáº­p Dashboard tá»± do
4. Hiá»ƒn thá»‹ role badge trong dropdown

---

## ğŸ“ LÆ°u Ã½

1. **Báº£o máº­t**: Má»—i API endpoint Ä‘á»u cÃ³ middleware kiá»ƒm tra quyá»n
2. **Frontend**: Chá»‰ áº©n UI, backend váº«n kiá»ƒm tra quyá»n
3. **Token**: JWT token chá»©a thÃ´ng tin role
4. **Session**: Token háº¿t háº¡n sau 7 ngÃ y

---

## ğŸ”§ Táº¡o tÃ i khoáº£n má»›i

### Táº¡o Pharmacist:
```bash
node scripts/create-pharmacist.js
```

### Táº¡o Admin:
```bash
node scripts/create-admin.js
```

### ÄÄƒng kÃ½ Customer:
- Truy cáº­p: `/pages/register.html`
- Hoáº·c dÃ¹ng Google/Facebook OAuth
