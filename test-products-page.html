<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Products Page</title>
</head>
<body>
    <h1>Test Products Page</h1>
    <div id="status"></div>

    <script>
        console.log('=== Testing Script Loading ===');
        
        // Test 1: Check if we can access localStorage
        console.log('1. LocalStorage test:');
        try {
            localStorage.setItem('test', 'value');
            console.log('   ✅ LocalStorage works');
        } catch (e) {
            console.error('   ❌ LocalStorage error:', e);
        }

        // Test 2: Load api.js
        console.log('2. Loading api.js...');
        const apiScript = document.createElement('script');
        apiScript.src = '/admin/pages/api.js';
        apiScript.onload = () => {
            console.log('   ✅ api.js loaded');
            console.log('   window.API exists:', !!window.API);
            
            // Test 3: Load auth-check.js
            console.log('3. Loading auth-check.js...');
            const authScript = document.createElement('script');
            authScript.src = '/admin/pages/auth-check.js';
            authScript.onload = () => {
                console.log('   ✅ auth-check.js loaded');
                
                // Test 4: Load products-main.js
                console.log('4. Loading products-main.js...');
                const mainScript = document.createElement('script');
                mainScript.src = '/admin/pages/products-main.js';
                mainScript.onload = () => {
                    console.log('   ✅ products-main.js loaded');
                    document.getElementById('status').innerHTML = '<h2 style="color: green;">✅ All scripts loaded successfully!</h2>';
                };
                mainScript.onerror = (e) => {
                    console.error('   ❌ products-main.js error:', e);
                    document.getElementById('status').innerHTML = '<h2 style="color: red;">❌ products-main.js failed to load</h2>';
                };
                document.head.appendChild(mainScript);
            };
            authScript.onerror = (e) => {
                console.error('   ❌ auth-check.js error:', e);
            };
            document.head.appendChild(authScript);
        };
        apiScript.onerror = (e) => {
            console.error('   ❌ api.js error:', e);
        };
        document.head.appendChild(apiScript);
    </script>
</body>
</html>
